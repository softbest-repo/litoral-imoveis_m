(function($){$.fn.circularCarousel=function(c,d,e,f,g,h,j,k){var l=this;var m=0;var n=l.children().length;var o=l.children(":first");var p=l.children(":last");var q=o.outerHeight(true);var r=o.outerWidth(true);var s=d;var t=r*d;var u=parseFloat(o.css('marginRight'));var v;j=j*1000;var w=c*r-u;var x="width: "+w+"px; "+"height: "+q+"px; "+"position: relative; overflow: hidden;";l.wrap('<div class="mask" style="'+x+'"></div>');l.css({"position":"absolute","top":"0","left":"0","width":n*r+"px","height":q+"px"});if(n-d<d){s=2*d-n}function moveItem(a,b){for(i=1;i<=b;i++){l.children(':eq('+a+')').clone(true).appendTo(l);l.children(':eq('+a+')').detach()}o=l.children(":first");p=l.children(":last")}function preClickNext(){g.unbind().bind('click',function(){return false});clearInterval(v);if(s>1){for(i=0;i<s;i++){l.children(':eq('+i+')').clone(true).appendTo(l)}l.width((n+s)*r)}clickNext();return false}function clickNext(){l.animate({"left":-t+"px"},e,"linear",function(){g.unbind().bind('click',preClickNext);if(s!=1){moveItem(s,d-s);for(i=1;i<=s;i++){l.children(':eq(0)').detach()}}else{moveItem(0,d)}l.css("left","0px");if(h&&!k){v=setInterval(preClickNext,j)}});return false}function preClickPrev(){f.unbind().bind('click',function(){return false});clearInterval(v);for(i=1;i<=d;i++){var a=n-1;l.children(':eq('+a+')').clone(true).prependTo(l)}l.width((n+d)*r).css('left',-t+'px');clickPrev();return false}function clickPrev(){l.animate({"left":"0px"},e,"linear",function(){f.unbind().bind('click',preClickPrev);for(i=1;i<=d;i++){l.children(':eq('+n+')').detach()}l.width(n*r);if(h&&!k){v=setInterval(preClickNext,j)}});return false}g.click(preClickNext);f.click(preClickPrev);if(h){v=setInterval(preClickNext,j)}}})(jQuery);